{
  "version": 3,
  "sources": ["../../../src/Commands/votekick.ts"],
  "sourcesContent": ["import { Message, MessageEmbed, Permissions } from \"discord.js\";\nimport { APIMessage } from \"discord.js/node_modules/discord-api-types/v10\";\nimport { Command } from \"../Commands\";\n\nexport default new Command({\n  name: \"votekick\",\n  description: \"Launches a vote to kick a member of the server\",\n  cooldown: 300000,\n  options: [\n    {\n      name: \"user\",\n      description: \"member to kick\",\n      type: \"USER\",\n      required: true,\n    },\n    {\n      name: \"reason\",\n      description: \"reason to kick\",\n      type: \"STRING\",\n      required: false,\n    },\n  ],\n  run: async ({ interaction }) => {\n    const user = interaction.options.getUser(\"user\");\n    const reason = interaction.options.getString(\"reason\");\n    const member = interaction.guild?.members.cache.get(user?.id!);\n\n    if (!member) return;\n    if (member.user.bot) {\n      await interaction.followUp(\"We don't do that here\");\n      return;\n    }\n    if (member.permissions.has(Permissions.FLAGS.ADMINISTRATOR)) {\n      await interaction.followUp(\"You can't kick administrators\");\n      return;\n    }\n\n    const votekickEmbed = new MessageEmbed({\n      title: `You are kicking ${member.displayName}`,\n      color: \"RED\",\n      description: \"Three minutes to vote, vote advantage of three is needed!\",\n    })\n      .setTimestamp()\n      .setThumbnail(user?.displayAvatarURL()!)\n      .addFields({ name: \"Reason\", value: reason ? reason : \"No reason\" })\n      .setAuthor({\n        name: interaction.member.displayName,\n        iconURL: interaction.member.displayAvatarURL(),\n      });\n\n    await interaction.followUp({ embeds: [votekickEmbed], fetchReply: true });\n    const voteEmbed: Message =\n      (await interaction.fetchReply()) as unknown as Message;\n    if (!voteEmbed) return;\n\n    voteEmbed.react(\"\u2705\");\n    voteEmbed.react(\"\u274C\");\n\n    setTimeout(() => {\n      let votesYes: number = voteEmbed.reactions.cache.get(\"\u2705\")?.count ?? 0;\n      let votesNo: number = voteEmbed.reactions.cache.get(\"\u274C\")?.count ?? 0;\n      if (votesYes > votesNo && votesYes - votesNo >= 3) {\n        member.kick();\n        const afterkicking = new MessageEmbed()\n          .setColor(\"RED\")\n          .setTitle(\"We kicked \" + member.displayName)\n          .setThumbnail(member.displayAvatarURL())\n          .addFields({\n            name: \"Reason\",\n            value: reason ? reason : \"No reason\",\n          })\n          .setDescription(\"Nobody will miss them\")\n          .addFields(\n            { name: \"Votes in favour: \", value: (votesYes - 1).toString() },\n            { name: \"Votes against: \", value: (votesNo - 1).toString() }\n          )\n          .setTimestamp();\n        interaction.followUp({ embeds: [afterkicking] });\n      } else {\n        const notKicked = new MessageEmbed()\n          .setColor(\"GREEN\")\n          .setTitle(\"You are safe \" + member.displayName)\n          .setThumbnail(member.displayAvatarURL())\n          .setDescription(\"For now...\")\n          .addFields(\n            { name: \"Votes in favour: \", value: (votesYes - 1).toString() },\n            { name: \"Votes against: \", value: (votesNo - 1).toString() }\n          )\n          .setTimestamp();\n        interaction.followUp({ embeds: [notKicked] });\n      }\n    }, 180000);\n  },\n});\n"],
  "mappings": "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",
  "names": ["_a"]
}
