{
  "version": 3,
  "sources": ["../../../../build/src/Commands/votekick.js"],
  "sourcesContent": ["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst discord_js_1 = require(\"discord.js\");\r\nconst Commands_1 = require(\"../Commands\");\r\nexports.default = new Commands_1.Command({\r\n    name: \"votekick\",\r\n    description: \"Launches a vote to kick a member of the server\",\r\n    cooldown: 300000,\r\n    options: [\r\n        {\r\n            name: \"user\",\r\n            description: \"member to kick\",\r\n            type: \"USER\",\r\n            required: true,\r\n        },\r\n        {\r\n            name: \"reason\",\r\n            description: \"reason to kick\",\r\n            type: \"STRING\",\r\n            required: false,\r\n        },\r\n    ],\r\n    run: ({ interaction }) => __awaiter(void 0, void 0, void 0, function* () {\r\n        var _a;\r\n        const user = interaction.options.getUser(\"user\");\r\n        const reason = interaction.options.getString(\"reason\");\r\n        const member = (_a = interaction.guild) === null || _a === void 0 ? void 0 : _a.members.cache.get(user === null || user === void 0 ? void 0 : user.id);\r\n        if (!member)\r\n            return;\r\n        if (member.user.bot) {\r\n            yield interaction.followUp(\"We don't do that here\");\r\n            return;\r\n        }\r\n        if (member.permissions.has(discord_js_1.Permissions.FLAGS.ADMINISTRATOR)) {\r\n            yield interaction.followUp(\"You can't kick administrators\");\r\n            return;\r\n        }\r\n        const votekickEmbed = new discord_js_1.MessageEmbed({\r\n            title: `You are kicking ${member.displayName}`,\r\n            color: \"RED\",\r\n            description: \"Three minutes to vote, vote advantage of three is needed!\",\r\n        })\r\n            .setTimestamp()\r\n            .setThumbnail(user === null || user === void 0 ? void 0 : user.displayAvatarURL())\r\n            .addFields({ name: \"Reason\", value: reason ? reason : \"No reason\" })\r\n            .setAuthor({\r\n            name: interaction.member.displayName,\r\n            iconURL: interaction.member.displayAvatarURL(),\r\n        });\r\n        yield interaction.followUp({ embeds: [votekickEmbed], fetchReply: true });\r\n        const voteEmbed = (yield interaction.fetchReply());\r\n        if (!voteEmbed)\r\n            return;\r\n        voteEmbed.react(\"\u2705\");\r\n        voteEmbed.react(\"\u274C\");\r\n        setTimeout(() => {\r\n            var _a, _b, _c, _d;\r\n            let votesYes = (_b = (_a = voteEmbed.reactions.cache.get(\"\u2705\")) === null || _a === void 0 ? void 0 : _a.count) !== null && _b !== void 0 ? _b : 0;\r\n            let votesNo = (_d = (_c = voteEmbed.reactions.cache.get(\"\u274C\")) === null || _c === void 0 ? void 0 : _c.count) !== null && _d !== void 0 ? _d : 0;\r\n            if (votesYes > votesNo && votesYes - votesNo >= 3) {\r\n                member.kick();\r\n                const afterkicking = new discord_js_1.MessageEmbed()\r\n                    .setColor(\"RED\")\r\n                    .setTitle(\"We kicked \" + member.displayName)\r\n                    .setThumbnail(member.displayAvatarURL())\r\n                    .addFields({\r\n                    name: \"Reason\",\r\n                    value: reason ? reason : \"No reason\",\r\n                })\r\n                    .setDescription(\"Nobody will miss them\")\r\n                    .addFields({ name: \"Votes in favour: \", value: (votesYes - 1).toString() }, { name: \"Votes against: \", value: (votesNo - 1).toString() })\r\n                    .setTimestamp();\r\n                interaction.followUp({ embeds: [afterkicking] });\r\n            }\r\n            else {\r\n                const notKicked = new discord_js_1.MessageEmbed()\r\n                    .setColor(\"GREEN\")\r\n                    .setTitle(\"You are safe \" + member.displayName)\r\n                    .setThumbnail(member.displayAvatarURL())\r\n                    .setDescription(\"For now...\")\r\n                    .addFields({ name: \"Votes in favour: \", value: (votesYes - 1).toString() }, { name: \"Votes against: \", value: (votesNo - 1).toString() })\r\n                    .setTimestamp();\r\n                interaction.followUp({ embeds: [notKicked] });\r\n            }\r\n        }, 180000);\r\n    }),\r\n});\r\n"],
  "mappings": "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",
  "names": ["_a"]
}
